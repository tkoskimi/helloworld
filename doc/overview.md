Simple Map for Kirkkohallitus
=============================

*	[ToDo](#todo)
*	[Build Requirements](#build-requirements)
*	[Building the Project](#build)
*	[Deployment](#deployment)
*	[JavaScript Libraries](#javascript-libraries)
*	[Architecture](#architecture)
*	[Glossary](#glossary)

<a name="todo"></a>
----
ToDo
----
*	Do the initial project

<a name="build-requirements"></a>
Build Requirements
==================

Nodejs
------
Node.js provides a runtime environment to execute JavaScript programs. In this project, it is needed for the following reasons:

	* to do the code sniffing
	* to generate the documentation
	* to execute the tests

[Download](https://nodejs.org/download/)

Version: 0.10.28

#### JSHint
JSHint is the code sniffer for JavaScript.

[Download and installation](http://jshint.com/install/)

###### Example
'$ npm install --global jshint'

#### JSCS
JSCS is a code style linter. It can be configured to use different validation rules. This project uses jQuery coding style.

[Installation](http://jscs.info/overview.html#installation) 

###### Example
'$ npm install --global jscs'

#### JSDoc
JSDoc is an API documentation generator for JavaScript. This document as well as the API documentation are generated by it. To generate the documentation, build the jsdoc target (<code>make jsdoc</code>). The documentation is stored to the './doc/js' directory.

###### Installation
`>npm install --global jsdoc`

#### Compass
Scss is an extension of CSS and the Compass is a Scss parser.

To install the Compass, follow the [instructions](http://thesassway.com/beginner/getting-started-with-sass-and-compass).

In this project, the Compass project was created with the following parameters:

<code>
	compass create --sass-dir="dev/html/scss" --css-dir="build/dev/html/css" --images-dir="build/dev/html/images" --javascript-dir="build/dev/html/js"
</code>

<a name="build"></a>
-----
Build
-----

<a name="deployment"></a>
----------
Deployment
----------

<a name="javascript-libraries"></a>
--------------------
JavaScript Libraries
--------------------
#### requirejs
[Home Page](http://requirejs.org/)

Version: 2.1.18

#### lodash
[Home Page](https://lodash.com/)
Version: 3.9.3

#### jQuery
[Download](https://jquery.com/download/)

Version: 2.1.4

#### Backbone
[Home Page](http://backbonejs.org/)
Version: 1.2.1

#### Backbone.Radio
[Home Page](https://github.com/marionettejs/backbone.radio)
Version: 0.9.0

#### Backbone.Marionette
[Home Page](http://marionettejs.com/)
Version: 2.4.1

#### domReady
[Download](http://requirejs.org/docs/download.html#plugins)

#### text
[Download](http://requirejs.org/docs/download.html#plugins)

#### log4javascript
[Home Page](http://log4javascript.org/)

Unzip the file and pick the minified full version.

Version: 1.4.13

#### Mocha

Mocha is a JavaScript test framework running on Node.js and the browser.

Version: 2.3.3

#### chai.js

Assertion library.

Version: 3.3.0

#### Sinon.JS



Version: 1.17.1


<a name="architecture"></a>
------------
Architecture
------------

The architectural decisions. The widgets.

#### Controllers
The role of controllers in Marionette has been controversial. ([see](http://marionettejs.com/docs/v2.4.2/marionette.controller.html)). For example, they are not used as controllers in MVC sense in many cases. Hence, it was important to clarify the concept.

In this application, the controllers are the main objects of the widgets: The application constructs the widget by calling the constructor function of its controller and typically this is the only explicit call from the application to the widget. Hence, the controller must define its constructor in a very detailed manner, i.e the properties of the options parameter must be documented clearly. In addition, the controller is the place where the global API of the widget (global events) must be documented so that there is just one place in the documentation that explains how the widget is wired up. It is recommended that the global events are triggered from the controllers. However, it is sometimes more convenient to trigger the event somewhere else. Hence, this decision is left to the implementor. 

#### Widget
The structure of the widget is as follows:

	* locales
	* css ([project]/dev/html/css/widgets/[widget-name])
	* scss ([project]/dev/html/scss/widgets/[widget-name])
	* front-end code ([project]/dev/html/js/widgets/[widget-name])
	* back-end code ([project]/dev/src/widgets/[widget-name])

Plug-ins must be AMD compliant.

The "dev:null" must not be reserved by any widgets. It can be used as a global channel when the widget needs one, but the framework does not provide any.

The global configuration object is passed to the widgets. The local configuration files must be in the ./config folder. There are three targets dev, test and prod. The build system will choose the correct one and place it to ./config folder.

Each widget must have a version. If the construction or the global API of the widget changes, the major version must be changed as well.

#### Integrating the widget to the application
The check list:

	* Import widget's scss file in [project]/dev/html/scss/main.scss
	* Add test cases to [project]/test/html/js/test.html

<a name="glossary"></a>
--------
Glossary
--------









